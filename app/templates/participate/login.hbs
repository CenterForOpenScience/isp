<div class="row">
  <div class="col-md-12">
    {{#if selectedLanguage}}
      <h3>
        {{#if selectedLanguage}}
          {{t 'login.youChose'}} {{selectedLanguage}}
        {{/if}}
        <button id="select-language" class="btn btn-default" {{action 'showLanguageSelector'}}>{{t 'login.changeButton'}}</button>
      </h3>
    {{else}}
        {{#unless showLanguageSelector}}
            <button id="select-language" class="btn btn-default" {{action 'showLanguageSelector'}}>{{t 'login.changeButton'}}</button>
        {{/unless}}
    {{/if}}

    {{#if invalidAuth}}
      {{#bs-modal title=errorHeading closedAction=(action 'toggleAction' 'invalidAuth')}}
        {{#bs-modal-body}}{{t 'login.invalidAuthError'}}{{/bs-modal-body}}
      {{/bs-modal}}
    {{/if}}

    {{#if invalidLocale}}
      {{#bs-modal title=errorHeading closedAction=(action 'toggleAction' 'invalidLocale')}}
        {{#bs-modal-body}}Please select a language before logging in.{{/bs-modal-body}}
      {{/bs-modal}}
    {{/if}}

    {{#if loginError}}
      {{#bs-modal title=errorHeading closedAction=(action 'toggleAction' 'loginError')}}
        {{#bs-modal-body}}{{t 'login.defaultError'}}{{/bs-modal-body}}
      {{/bs-modal}}
    {{/if}}

    <div class="row">
      <div class="col-md-12">
        <h1>International Situations Project</h1>
        {{isp-jam-auth invalidAuth=invalidAuth authenticating=authenticating login=(action 'authenticate')}}
        <p>
          The International Situations Project does not support Internet Explorer. If you are using Internet Explorer, please switch to another browser.
        </p>
        <p>
          <i class="supported-browser fa fa-2x fa-times" aria-hidden="true"></i>
          <i class="supported-browser fa fa-2x fa-check-square-o" aria-hidden="true"></i>
          <i class="supported-browser fa fa-2x fa-check-square-o" aria-hidden="true"></i>
          <i class="supported-browser fa fa-2x fa-check-square-o" aria-hidden="true"></i>
          <i class="supported-browser fa fa-2x fa-check-square-o" aria-hidden="true"></i>
        </p>
        <p>
          <i class="supported-browser fa fa-2x fa-internet-explorer" title="Internet explorer (not supported)" aria-label="Internet explorer (not supported)"></i>
          <i class="supported-browser fa fa-2x fa-safari" title="Safari (supported)" aria-label="Safari (supported)"></i>
          <i class="supported-browser fa fa-2x fa-firefox" title="Firefox (supported)" aria-label="Firefox (supported)"></i>
          <i class="supported-browser fa fa-2x fa-chrome" title="Chrome (supported)" aria-label="Chrome (supported)"></i>
          <i class="supported-browser fa fa-2x fa-edge" title="Edge (supported)" aria-label="Edge (supported)"></i>
        </p>
      </div>
    </div>
  </div>
</div>

{{#bs-modal header=false body=false footer=false open=showLanguageSelector keyboard=false backdropClose=false backdrop=true}}
  {{#bs-modal-header closeButton=false}}
    <h4>Please select your country and language</h4>
  {{/bs-modal-header}}
  {{#bs-modal-body}}
    {{language-picker onPick=(action 'selectLanguage')}}
  {{/bs-modal-body}}
{{/bs-modal}}
{{outlet}}
